### 单线程

JavaScript 是单线程的。即一次只能完成一件任务，如果有多个任务，就必须排队，前面一个任务完成，再执行后面一个任务。


### 同步与异步

JavaScript 单线程的运行模式意味着代码的执行是同步的，即只有等前一段程序执行完毕才会接着执行下一段程序。由此导致的问题是，如果某段程序执行时间特别长，特别是涉及 I/O 这类耗时操作的程序，那么后面的程序就会被阻塞，浏览器就会处于假死的状态。为了改进这种缺陷，JavaScript 引入了事件循环机制，使得非阻塞的异步操作成为可能，同时也使得 JavaScript 成为了一门由事件驱动的语言。


### 任务队列

事件（event），不仅仅是指具体的交互操作，而是泛指一类消息（message）或任务（task）。在执行线程外，存在着一个任务队列（也叫事件队列或消息队列）。任务队列就是一个先进先出的数据结构，可以看作是待办事项列表。执行线程将执行栈中的任务执行完毕后，就会立即读取任务队列头部，如果有待执行任务，那么就执行该任务，如此不断循环，直到任务队列全部清空。
处于执行线程的任务就是同步任务，处于任务队列的任务就是异步任务。


### macrotask | microtask


### setTimeout、setImmediate、process.nextTick
- setTimeout: 推延到下一轮，检测时间是否抵达，如是则执行，如否则继续推延到下一轮
- setImmediate: 追加到本轮事件队列尾部，类似于 promise